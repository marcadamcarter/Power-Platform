# Power Platform and Application Lifecycle Management (ALM)

## Considerations
1) **Environment Management** : This entails the strategy you want to implement when embarking on ALM. Typically most common ALM pattern from an environments perspective is to have environments that map to Development, Test, and Production.
2) **Organize the artifacts in Solutions** : PowerApps, PowerAutomate Flows, Power Virtual Agents, AI Builder, PowerBI, and Power Pages assets need to be within solutions
3) **Managing Deployments** : When solutions are deployed from Development, to Test, to Production what are the mechanism that need to be employed and managed (i.e. Azure DevOps pipelines, GitHub actions, and Pipelines for Power Platform)  

## Solutions  
Solutions are the mechanism for implementing application lifecycle management (ALM) in Power Apps and Power Automate.  

### Managed and Unmanaged solutions
A solution is either managed or unmanaged.  

  - **Unmanaged solutions** are developed. Unmanaged solutions are used in development environments while you make changes to your application. Unmanaged solutions can be exported either as unmanaged or managed. Exported unmanaged versions of your solutions should be checked into your source control system. Unmanaged solutions should be considered your source for Microsoft Power Platform assets. When an unmanaged solution is deleted, only the solution container of any customizations included in it's deleted. All the unmanaged customizations remain in effect and belong to the default solution.  
  - **Managed solutions** are deployed. Managed solutions are deployed to any environment that isn't a development environment for that solution. This includes test, UAT, SIT, and production environments. Managed solutions can be serviced independently from other managed solutions in an environment. As an ALM best practice, managed solutions should be generated by exporting an unmanaged solution as managed and considered a build artifact. Additionally:  
    - You can't edit components directly within a managed solution. To edit managed components, first add them to an unmanaged solution.
      - When you do this, you create a dependency between your unmanaged customizations and the managed solution. When a dependency exists, the managed solution can't be uninstalled until you remove the dependency.
    - Some managed components can’t be edited. To verify whether a component can be edited, view the Managed properties.
    - You can't export a managed solution.
    - When a managed solution is deleted (uninstalled), all the customizations and extensions included with it are removed.  

> [ Important ]  
> - You can't import a managed solution into the same environment that contains the originating unmanaged solution. To test a managed solution, you need a separate environment to import it into.
> - When you delete a managed solution, the following data is lost: data stored in custom entities that are part of the managed solution and data stored in custom attributes that are part of the managed solution on other entities that are not part of the managed solution.  

![Solution unmanaged and managed](/media/solution-options.png)

### Solution Components
A component represents something that you can potentially customize. Anything that can be included in a solution is a component.  
The purpose of having components is to keep track of any limitations on what can be customized using managed properties and all the dependencies so that it can be exported, imported, and (in managed solutions) deleted without leaving anything behind.

### Solution lifecycle
Solutions support the following actions that help support application lifecycle processes:  
  - **Create** Author and export unmanaged solutions.
  - **Update** Create updates to a managed solution that are deployed to the parent managed solution. You can't delete components with an update.
  - **Upgrade** Import the solution as an upgrade to an existing managed solution, which removes unused components and implements upgrade logic. Upgrades involve rolling up (merging) all patches to the solution into a new version of the solution. Solution upgrades delete components that existed but are no longer included in the upgraded version. You can choose to upgrade immediately or to stage the upgrade so that you can do some additional actions prior to completing the upgrade.
  - **Patch** A patch contains only the changes for a parent managed solution, such as adding or editing components and assets. Use patches when making small updates (similar to a hotfix). When patches are imported, they're layered on top of the parent solution. You can't delete components with a patch.

### Solution publisher
Every app and other solution components such as entities you create or any customization you make is part of a solution. Because every solution has a publisher, you should create your own publisher rather than use the default. You specify the publisher when you create a solution.  

The publisher of a solution where a component is created is considered the owner of that component. The owner of a component controls what changes other publishers of solutions including that component are allowed to make or restricted from making. It's possible to move the ownership of a component from one solution to another within the same publisher, but not across publishers. Once you introduce a publisher for a component in a managed solution, you can’t change the publisher for the component. Because of this restriction, it's best to define a single publisher so you can change the layering model across solutions later.

> [ Important ]  
> The solution publisher specifies who developed the app. For this reason, you should create a solution publisher name that's meaningful.  

### Solution publisher prefix
A solution publisher includes a prefix. The publisher prefix is a mechanism to help avoid naming collisions. This allows for solutions from different publishers to be installed in an environment with few conflicts. For example, the Contoso solution displayed here includes a solution publisher prefix of *contoso*.  
![publisher prefix example](/media/publisher-prefix-example.png)

### ALM Scenarios
This section provides information about the various scenarios that will help you reach the end goal of implementing and practicing healthy application lifecycle management (ALM) by using Power Apps, Power Automate, and Microsoft Dataverse in your organization. 

The scenarios range from people who are new to Microsoft Power Platform to existing users practicing unhealthy ALM, and show how you can move to a recommended, successful ALM implementation. 

  - [Scenario 0: ALM for a new project](new-project-alm.md)
  - [Scenario 1: Citizen development ALM](citizen-dev-alm.md)
  - [Scenario 2: Moving from a single environment](move-from-single-env-alm.md)
  - [Scenario 3: Moving from unmanaged to managed solutions](move-from-unmanaged-managed-alm.md)
  - [Scenario 4: Use DevOps for automation](https://learn.microsoft.com/en-us/power-platform/alm/use-devops-automated-alm)
  - [Scenario 5: Support team development](team-development-alm.md)
  - [Scenario 6: Embrace citizen developers](embrace-citizen-devs.md)
  - [Scenario 7: Add canvas apps in solutions by default](https://learn.microsoft.com/en-us/power-platform/alm/canvas-apps-solution-default)

## References
  - [https://learn.microsoft.com/en-us/power-platform/alm/solution-concepts-alm](https://learn.microsoft.com/en-us/power-platform/alm/solution-concepts-alm)
  - [https://microsoft.github.io/Low-Code/blog/2023-day20#power-platform-and-application-lifecycle-management](https://microsoft.github.io/Low-Code/blog/2023-day20#power-platform-and-application-lifecycle-management)
  - [https://learn.microsoft.com/en-us/power-platform/alm/implement-healthy-alm](https://learn.microsoft.com/en-us/power-platform/alm/implement-healthy-alm)
